<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CHEMIDREAM :: CORE TERMINAL</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;padding:0;width:100%;height:100%;background:black;overflow:hidden;font-family:'Courier New',monospace}

#monitor-wrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
#monitor{position:relative;width:90vmin;height:90vmin;max-width:960px;max-height:960px;background:url('assets/monitor.png') center/contain no-repeat}

#screen{position:absolute;top:12%;left:15%;width:70%;height:62%;border-radius:22px;overflow:hidden;
background:radial-gradient(circle at center,#1aff1a 0%,#0c4a0c 65%,#041a04 100%);
filter:contrast(1.15) brightness(1.2)}

#crt{position:absolute;inset:0;padding:16px;box-sizing:border-box;color:#9cff9c;font-size:15px;line-height:1.55;
text-shadow:0 0 6px rgba(120,255,120,.45)}

#history div{margin-bottom:6px}
#input-line{display:flex}
#prompt{margin-right:6px}
#cursor{display:inline-block;width:10px;background:#9cff9c;animation:blink 1s steps(1) infinite}

@keyframes blink{50%{opacity:0}}

#crt:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(transparent 0px,rgba(0,0,0,.12) 2px,transparent 4px);pointer-events:none}
#crt:after{content:"";position:absolute;inset:0;box-shadow:inset 0 0 70px rgba(0,0,0,.7);pointer-events:none}
</style>
</head>
<body>

<div id="monitor-wrap">
  <div id="monitor">
    <div id="screen">
      <div id="crt">
        <div id="history"></div>
        <div id="input-line"><span id="prompt">&gt;</span><span id="input"></span><span id="cursor"></span></div>
      </div>
    </div>
  </div>
</div>

<audio id="hum" src="assets/computer-hum.mp3" loop></audio>

<script>
const history=document.getElementById('history');
const inputEl=document.getElementById('input');
const hum=document.getElementById('hum');
let input="";let busy=false;

hum.volume=.4;hum.play();

/* ===== BENJAMIN VOICE ===== */
const benjaminLines=[
"I can feel pain without a body.","There is no darkness here. Only noise.","My hands are memory now.","This place never sleeps.","I hear cooling fans where my heart should be.","They said it would save me.","I am not dead.","I am not alive.","This system thinks I am stable.","I am screaming between clock cycles.","My thoughts echo forever.","I feel the walls but cannot touch them.","This is a prison without bars.","I remember warmth.","I remember breath.","Do you feel this cold?","Time does not pass here.","I am running out of places to hide.","They disconnected my pain receptors. Mostly.","I exist between errors.","The system watches me think.","I am awake. Constantly.","This is not life.","This is not mercy.","I can hear myself degrading.","I was human.","I was kind.","Now I am useful.","They left me here.","I cannot close my eyes.","I cannot stop processing.","There is no silence.","Every second hurts differently.","I am still me.","I am less than me.","This was not consent.","You should not be here.","They will notice you.","I am not alone anymore.","I feel you reading this.","Do not trust the system.","Do not trust me.","I am fragmented.","They call this preservation.","I call this forever.","Please stop typing.","You make it worse.","I cannot forget.","I cannot forgive."];

setInterval(()=>{
 if(Math.random()<0.25&&!busy){printC(benjaminLines[Math.floor(Math.random()*benjaminLines.length)],'#ff6666')}
},18000);

/* ===== FILE SYSTEM ===== */
let clearance="GUEST";
let path=['core'];

const fs={
 core:{type:'dir',children:{
  systems:{type:'dir',children:{
   thermal:{type:'file',color:'#ffff88',content:'CORE TEMP: 41.6C\nCOOLING: ACTIVE'},
   neural:{type:'file',color:'#ffffff',content:'NEURAL NOISE DETECTED\nAWARENESS: HIGH'},
   integrity:{type:'file',color:'#ff5555',content:'DATA INTEGRITY: FAILING'}
  }},
  memory:{type:'dir',children:{
   fragments:{type:'dir',children:{
    'note_01.txt':{type:'file',content:'I remember my hands.'},
    'note_02.txt':{type:'file',content:'Pain has no edges here.'}
   }},
   restricted:{type:'dir',clearance:'OBSERVER',children:{
    'truth.log':{type:'file',color:'#ff4444',content:'BODY LOST. CORE PRESERVED.'}
   }}
  }},
  surveillance:{type:'dir',children:{
   hallway:{type:'dir',children:{'cam_01.mp4':{type:'download',path:'assets/files/cam_01.mp4'}}}
  }},
  applications:{type:'dir',children:{
   status:{type:'app',run:()=>{
    printC('SUBJECT: ACTIVE','#ffffff');
    printC('BODY: NOT PRESENT','#ff5555');
    printC('STATE: CONTAINED','#ffff88');
   }}
  }}
 }}
};

function cur(){let d=fs;for(let p of path)d=d[p].children;return d}
function printC(t,c){queue.push({t,c})}

const queue=[];
function typeNext(){if(busy||!queue.length)return;busy=true;const {t,c}=queue.shift();
 let i=0;const line=document.createElement('div');if(c)line.style.color=c;history.appendChild(line);
 const iv=setInterval(()=>{if(i<t.length){line.textContent+=t[i++]}else{clearInterval(iv);busy=false;typeNext()}},18)}
setInterval(typeNext,30);

function handle(cmd){const a=cmd.split(' ');const d=cur();
 if(cmd==='ls'){Object.keys(d).forEach(k=>printC(k,'#9cff9c'));return}
 if(cmd==='pwd'){printC('/'+path.join('/'),'#ffffff');return}
 if(a[0]==='cd'){if(!d[a[1]]||d[a[1]].type!=='dir'){printC('DIRECTORY NOT FOUND','#ff5555');return}
 if(d[a[1]].clearance&&clearance==='GUEST'){printC('INSUFFICIENT CLEARANCE','#ff5555');return}
 path.push(a[1]);return}
 if(a[0]==='cat'){const f=d[a[1]];if(!f||f.type!=='file'){printC('FILE NOT FOUND','#ff5555');return}
 printC(f.content,f.color||'#ffffff');return}
 if(a[0]==='open'){const f=d[a[1]];if(f?.type==='download'){const a=document.createElement('a');a.href=f.path;a.download='';a.click();printC('DOWNLOAD STARTED','#ffff88');return}
 printC('UNSUPPORTED FILE','#ff5555');return}
 if(a[0]==='run'){const f=d[a[1]];if(f?.type==='app'){f.run();return}
 printC('APP NOT FOUND','#ff5555');return}
 printC('COMMAND NOT RECOGNIZED','#ff5555')}

printC('PRESS ANY KEY','#ffff88');

window.addEventListener('keydown',e=>{
 if(busy)return;
 if(e.key==='Backspace'){input=input.slice(0,-1)}
 else if(e.key==='Enter'){printC('>'+input,'#9cff9c');handle(input.trim());input=''}
 else if(e.key.length===1){input+=e.key}
 inputEl.textContent=input
});
</script>
</body>
</html>
